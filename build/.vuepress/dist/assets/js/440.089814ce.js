(window.webpackJsonp=window.webpackJsonp||[]).push([[440],{857:function(s,a,n){"use strict";n.r(a);var e=n(13),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"rerere"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#rerere"}},[s._v("#")]),s._v(" Rerere")]),s._v(" "),n("p",[n("code",[s._v("git rerere")]),s._v("  功能是一个隐藏的功能。 正如它的名字 「reuse recorded resolution」 所指，它允许你让 Git 记住解决一个块冲突的方法，这样在下一次看到相同冲突时，Git 可以为你自动地解决它。")]),s._v(" "),n("p",[s._v("有几种情形下这个功能会非常有用。 在文档中提到的一个例子是 "),n("strong",[s._v("如果你想要保证一个长期分支会干净地合并，但是又不想要一串中间的合并提交")]),s._v(" 。 将 rerere 功能打开后偶尔合并，解决冲突，然后返回到合并前。 如果你持续这样做，那么最终的合并会很容易，因为 rerere 可以为你自动做所有的事情。")]),s._v(" "),n("p",[n("strong",[s._v("可以将同样的策略用在维持一个变基的分支时")]),s._v("，这样就不用每次解决同样的变基冲突了。 或者你将一个分支合并并修复了一堆冲突后想要用变基来替代合并 – 你可能并不想要再次解决相同的冲突。")]),s._v(" "),n("p",[n("strong",[s._v("另一个情形是当你偶尔将一堆正在改进的特性分支合并到一个可测试的头时")]),s._v("，就像 Git 项目自身经常做的。 如果测试失败，你可以倒回合并之前然后在去除导致测试失败的那个特性分支后重做合并，而不用再次重新解决所有的冲突。")]),s._v(" "),n("p",[s._v("为了启用 rerere 功能，仅仅需要运行这个配置选项：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global rerere.enabled "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("也通过在特定的仓库中创建  "),n("code",[s._v(".git/rr-cache")]),s._v("  目录来开启它，但是设置选项更干净并且可以应用到全局。")]),s._v(" "),n("p",[s._v("现在我们看一个简单的例子，类似之前的那个。 假设有一个像这样的文件：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("#! /usr/bin/env ruby\n\ndef hello\n  puts 'hello world'\nend\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("在一个分支中修改单词 「hello」 为 「hola」，然后在另一个分支中修改 「world」 为 「mundo」，就像之前一样。")]),s._v(" "),n("p",[n("img",{attrs:{src:"assets/4d8cfe349b7b99a89e16496d7a85ea41.png",alt:"rerere1"}})]),s._v(" "),n("p",[s._v("当合并两个分支到一起时，我们将会得到一个合并冲突：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" merge i18n-world\nAuto-merging hello.rb\nCONFLICT "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": Merge conflict "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" hello.rb\nRecorded preimage "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello.rb'")]),s._v("\nAutomatic merge failed"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" fix conflicts and "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" commit the result.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("你会注意到那个新行 "),n("strong",[s._v("Recorded preimage for FILE")]),s._v("。 除此之外它应该看起来就像一个普通的合并冲突。 在这个时候，rerere 可以告诉我们几件事。 和往常一样，在这个时候你可以运行  "),n("code",[s._v("git status")]),s._v("  来查看所有冲突的内容：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('$ git status\n# On branch master\n# Unmerged paths:\n#   (use "git reset HEAD <file>..." to unstage)\n#   (use "git add <file>..." to mark resolution)\n#\n#\tboth modified:      hello.rb\n#\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("然而，"),n("code",[s._v("git rerere")]),s._v("  也会通过  "),n("code",[s._v("git rerere status")]),s._v("  告诉你它记录的合并前状态。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("$ git rerere status\nhello.rb\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("并且  "),n("code",[s._v("git rerere diff")]),s._v(" 将会显示解决方案的当前状态 – 开始解决前与解决后的样子。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rerere "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v("\n--- a/hello.rb\n+++ b/hello.rb\n@@ -1,11 +1,11 @@\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#! /usr/bin/env ruby")]),s._v("\n\n def hello\n-"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("\n-  puts "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello mundo'")]),s._v("\n-"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n+"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" HEAD\n   puts "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hola world'")]),s._v("\n-"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("\n+  puts "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello mundo'")]),s._v("\n+"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" i18n-world\n end\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("p",[s._v("同样（这并不是真的与 rerere 有关系），可以使用  "),n("code",[s._v("ls-files -u")]),s._v("  来查看冲突文件的之前、左边与右边版本：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" ls-files -u\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100644")]),s._v(" 39804c942a9c1f2c03dc7c5ebcd7f3e3a6b97519 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\thello.rb\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100644")]),s._v(" a440db6e8d1fd76ad438a49025a9ad9ce746f581 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\thello.rb\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100644")]),s._v(" 54336ba847c3758ab604876419607e9443848474 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\thello.rb\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("现在可以通过改为  "),n("code",[s._v("puts ‘hola mundo’")]),s._v("  来解决它，可以再次运行 "),n("code",[s._v("rerere diff")]),s._v("  命令来查看  "),n("code",[s._v("rerere")]),s._v("  将会记住的内容：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("$ git rerere diff\n--- a/hello.rb\n+++ b/hello.rb\n@@ -1,11 +1,7 @@\n #! /usr/bin/env ruby\n\n def hello\n-<<<<<<<\n-  puts 'hello mundo'\n-=======\n-  puts 'hola world'\n->>>>>>>\n+  puts 'hola mundo'\n end\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("所以从本质上说，当 Git 看到一个 hello.rb 文件的一个块冲突中有 「hello mundo」 在一边与  「hola world」 在另一边，它会将其解决为 「hola mundo」。")]),s._v(" "),n("p",[s._v("现在我们可以将它标记为已解决并提交它：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" hello.rb\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit\nRecorded resolution "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello.rb'")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("master 68e16e5"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Merge branch "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'i18n'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("可以看到它  「Recorded resolution for FILE」。")]),s._v(" "),n("p",[n("img",{attrs:{src:"assets/713a2a4648c31e15e7796c2c7f3adec9.png",alt:"rerere2"}})]),s._v(" "),n("p",[s._v("现在，让我们撤消那个合并然后将它变基到 master 分支顶部来替代它。可以通过使用之前在 "),n("RouterLink",{attrs:{to:"/git-scm/07/07.html"}},[s._v("重置揭密")]),s._v(" 看到的 reset 来回滚分支。")],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard HEAD^\nHEAD is now at ad63f15 i18n the hello\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("我们的合并被撤消了。 现在让我们变基特性分支。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout i18n-world\nSwitched to branch "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'i18n-world'")]),s._v("\n\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase master\nFirst, rewinding "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" to replay your work on "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" of it"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nApplying: i18n one word\nUsing index info to reconstruct a base tree"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nFalling back to patching base and "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("-way merge"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nAuto-merging hello.rb\nCONFLICT "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": Merge conflict "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" hello.rb\nResolved "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello.rb'")]),s._v(" using previous resolution.\nFailed to merge "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" the changes.\nPatch failed at 0001 i18n one word\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("现在，正像我们期望的一样，得到了相同的合并冲突，但是看一下 Resolved FILE using previous resolution 这行。 如果我们看这个文件，会发现它已经被解决了，而且在它里面没有合并冲突标记。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("$ cat hello.rb\n#! /usr/bin/env ruby\n\ndef hello\n  puts 'hola mundo'\nend\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("同样，git diff 将会显示出它是如何自动地重新解决的：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" --cc hello.rb\nindex a440db6,54336ba"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("0000000\n--- a/hello.rb\n+++ b/hello.rb\n@@@ -1,7 -1,7 +1,7 @@@\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#! /usr/bin/env ruby")]),s._v("\n\n  def hello\n-   puts "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hola world'")]),s._v("\n -  puts "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello mundo'")]),s._v("\n++  puts "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hola mundo'")]),s._v("\n  end\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[n("img",{attrs:{src:"assets/22bf0b19843fb43463e4bf989d893e90.png",alt:"rerere3"}})]),s._v(" "),n("p",[s._v("也可以通过 checkout 命令重新恢复到冲突时候的文件状态：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout --conflict"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("merge hello.rb\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" hello.rb\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#! /usr/bin/env ruby")]),s._v("\n\ndef hello\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" ours\n  puts "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hola world'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n  puts "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello mundo'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" theirs\nend\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("我们将会在 "),n("RouterLink",{attrs:{to:"/git-scm/07/08.html"}},[s._v("高级合并")]),s._v(" 中看到这个的一个例子。 然而现在，让我们通过运行 rerere 来重新解决它：")],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rerere\nResolved "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello.rb'")]),s._v(" using previous resolution.\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" hello.rb\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#! /usr/bin/env ruby")]),s._v("\n\ndef hello\n  puts "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hola mundo'")]),s._v("\nend\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("我们通过 rerere 缓存的解决方案来自动重新解决了文件冲突。 现在可以添加并继续变基来完成它。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("$ git add hello.rb\n$ git rebase --continue\nApplying: i18n one word\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("所以，如果做了很多次重新合并，或者想要一个特性分支始终与你的 master 分支保持最新但却不想要一大堆合并，或者经常变基，打开 rerere 功能可以帮助你的生活变得更美好。")])])}),[],!1,null,null,null);a.default=t.exports}}]);