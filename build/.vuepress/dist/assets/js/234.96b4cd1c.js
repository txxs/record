(window.webpackJsonp=window.webpackJsonp||[]).push([[234],{624:function(s,t,r){"use strict";r.r(t);var a=r(13),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("h1",{attrs:{id:"_020-redis-主从架构下如何才能做到-99-99-的高可用性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_020-redis-主从架构下如何才能做到-99-99-的高可用性"}},[s._v("#")]),s._v(" 020. redis 主从架构下如何才能做到 99.99% 的高可用性？")]),s._v(" "),r("p"),r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#什么是-99-99-高可用"}},[s._v("什么是 99.99% 高可用？")])]),r("li",[r("a",{attrs:{href:"#redis-不可用是什么"}},[s._v("redis 不可用是什么？")])]),r("li",[r("a",{attrs:{href:"#redis-怎么才能做到高可用"}},[s._v("redis 怎么才能做到高可用？")])])])]),r("p"),s._v(" "),r("h2",{attrs:{id:"什么是-99-99-高可用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#什么是-99-99-高可用"}},[s._v("#")]),s._v(" 什么是 99.99% 高可用？")]),s._v(" "),r("ul",[r("li",[s._v("不可用：系统挂掉，很难恢复起来，短时间内都不行，这就不可用")]),s._v(" "),r("li",[s._v("高可用：全年 99.99/99.9/99 % 的时间都能正常提供服务就是高可用")])]),s._v(" "),r("p",[s._v("这里有一个比较学术点的解释："),r("strong",[s._v("可用性的高低")]),s._v(" 是使用 "),r("strong",[s._v("不可用时间")]),s._v(" 占 "),r("strong",[s._v("总时间")]),s._v(" 的比例来衡量。不可用时间是从故障发生到故障恢复的时间。比如，可用性 4 个 9 的系统（99.99%），它一年宕机时间不能超过53分钟（=365"),r("em",[s._v("24")]),s._v("60*(1-0.9999)）。做到高可用系统，需要尽可能的 "),r("strong",[s._v("降低故障发生的次数")]),s._v(" 和 "),r("strong",[s._v("减少故障持续的时间")]),s._v("。")]),s._v(" "),r("h2",{attrs:{id:"redis-不可用是什么"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#redis-不可用是什么"}},[s._v("#")]),s._v(" redis 不可用是什么？")]),s._v(" "),r("p",[s._v("单实例不可用？主从架构不可用？不可用的后果是什么？")]),s._v(" "),r("p",[r("img",{attrs:{src:"assets/markdown-img-paste-2019032321135939.png",alt:""}})]),s._v(" "),r("p",[s._v("如上图，简单说就是 master 不可用的时候，后果就很严重")]),s._v(" "),r("h2",{attrs:{id:"redis-怎么才能做到高可用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#redis-怎么才能做到高可用"}},[s._v("#")]),s._v(" redis 怎么才能做到高可用？")]),s._v(" "),r("p",[r("img",{attrs:{src:"assets/markdown-img-paste-20190323211722171.png",alt:""}})]),s._v(" "),r("p",[s._v("通过主备切换，在很短的时间内恢复可用状态。redis 哨兵（sentinal node）功能提供了这种支持。")]),s._v(" "),r("p",[s._v("接下来的几个章节都是讲解哨兵相关知识")])])}),[],!1,null,null,null);t.default=e.exports}}]);