{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{470:function(s,a,t){\"use strict\";t.r(a);var n=t(13),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[t(\"h1\",{attrs:{id:\"_006-从零开始在虚拟机中一步一步搭建一个-4-个节点的-centos-集群\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_006-从零开始在虚拟机中一步一步搭建一个-4-个节点的-centos-集群\"}},[s._v(\"#\")]),s._v(\" 006. 从零开始在虚拟机中一步一步搭建一个 4 个节点的 CentOS 集群\")]),s._v(\" \"),t(\"p\"),t(\"div\",{staticClass:\"table-of-contents\"},[t(\"ul\",[t(\"li\",[t(\"a\",{attrs:{href:\"#在虚拟机中安装-centos\"}},[s._v(\"在虚拟机中安装 CentOS\")]),t(\"ul\",[t(\"li\",[t(\"a\",{attrs:{href:\"#网络配置注意的地方\"}},[s._v(\"网络配置注意的地方\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#桥接模式配置截图\"}},[s._v(\"桥接模式配置截图\")])])])]),t(\"li\",[t(\"a\",{attrs:{href:\"#在每个-centos-中都安装-java-和-perl\"}},[s._v(\"在每个 CentOS 中都安装 Java 和 Perl\")]),t(\"ul\",[t(\"li\",[t(\"a\",{attrs:{href:\"#lrzsz-安装\"}},[s._v(\"lrzsz 安装\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#java-安装\"}},[s._v(\"JAVA 安装\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#rpm-自动安装后的环境变量问题\"}},[s._v(\"rpm 自动安装后的环境变量问题\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#安装-perl\"}},[s._v(\"安装 Perl\")])])])]),t(\"li\",[t(\"a\",{attrs:{href:\"#在-4-个虚拟机中安装-centos-集群\"}},[s._v(\"在 4 个虚拟机中安装 CentOS 集群\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#配置-4-台-centos-为-ssh-免密码互相通信\"}},[s._v(\"配置 4 台 CentOS 为 ssh 免密码互相通信\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#为什么带领大家从-0-开始部署环境\"}},[s._v(\"为什么带领大家从 0 开始部署环境\")])])])]),t(\"p\"),s._v(\" \"),t(\"p\",[s._v(\"从零开始，纯手工，一步一步搭建出一个 4 个节点的 CentOS 集群，\\n为我们后面的课程做准备，后面会讲解大型的分布式的 redis 集群架构，\\n一步一步纯手工搭建 redis 集群，集群部署，主从架构，分布式集群架构\")]),s._v(\" \"),t(\"p\",[s._v(\"我们后面的课程，会讲解一些实时计算技术的应用，包括 storm，讲解一下 storm 的基础知识，对于 java 工程师来说，会用就可以了，用一些 storm 最基本的分布式实时计算的 feature 就 ok 了，搭建一个 storm 的集群\")]),s._v(\" \"),t(\"p\",[s._v(\"部署我们整套的系统、nginx、tomcat+java web 应用、mysql 等\")]),s._v(\" \"),t(\"p\",[s._v(\"尽量以真实的网络拓扑的环境，去给大家演示一下整套系统的部署，不要所有东西，全部放在一个节点上玩儿，也可以去试一试，但是作为课程来说，效果不是太理想\")]),s._v(\" \"),t(\"p\",[s._v(\"如果要说非常真实的网络拓扑环境来说的话：\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"redis 集群，独立的一套机器\")]),s._v(\" \"),t(\"li\",[s._v(\"storm 集群，独立的一套机器\")]),s._v(\" \"),t(\"li\",[s._v(\"nginx 独立部署\")]),s._v(\" \"),t(\"li\",[s._v(\"tomcat + java web 应用，独立部署\")]),s._v(\" \"),t(\"li\",[s._v(\"mysql 独立部署\")])]),s._v(\" \"),t(\"p\",[s._v(\"至少十台机器，去部署整套系统，我在自己的笔记本电脑上来讲课的，这么玩儿撑不住的，\\n电脑本身就 6G 内存的话，学习这种大型的系统架构的课程，是有点吃力，给大家建议，至少到 8G 以上，16G 凑合\")]),s._v(\" \"),t(\"p\",[s._v(\"我们会纯手工，从零开始，因为很多视频课程，里面讲师都是现成的虚拟机，自己都装好了，包括各种必要的软件，讲课的时候直接基于自己的虚拟机就开始讲解了\")]),s._v(\" \"),t(\"p\",[s._v(\"很多同学就会发现，想要做到跟讲师一样的环境都很难，自己可能照着样子装了个环境，但是发现，各种问题，各种报错，环境起不来，学习课程的过程很艰难\")]),s._v(\" \"),t(\"p\",[s._v(\"学视频课程，肯定是要跟着视频的所有的东西自己去做一做，练一练，结果你却因为环境问题，做不了，连不了，那就太惨了\")]),s._v(\" \"),t(\"p\",[s._v(\"我们的课程从 centos 的镜像文件，到所有的需要使用的软件，全都给你，在自己电脑上，下载一个虚拟机管理软件 virtual box，就可以跟着玩儿了\")]),s._v(\" \"),t(\"p\",[s._v(\"如果你一步一步跟着视频做，搭建起整个环境，应该问题不大，环境问题，给大家弄成傻瓜式的\")]),s._v(\" \"),t(\"h2\",{attrs:{id:\"在虚拟机中安装-centos\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#在虚拟机中安装-centos\"}},[s._v(\"#\")]),s._v(\" 在虚拟机中安装 CentOS\")]),s._v(\" \"),t(\"p\",[s._v(\"启动一个 virtual box 虚拟机管理软件（vmware，我早些年，发现不太稳定，主要是当时搭建一个 hadoop 大数据的集群，发现每次休眠以后再重启，集群就挂掉了）\")]),s._v(\" \"),t(\"p\",[s._v(\"virtual box，发现很稳定，集群从来不会随便乱挂，所以就一直用 virtual box 了\")]),s._v(\" \"),t(\"p\",[t(\"a\",{attrs:{href:\"https://www.virtualbox.org/wiki/Downloads\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"virtual box 官网下载最新\"),t(\"OutboundLink\")],1),s._v(\" 即可（本次笔记使用的是 VirtualBox-6.0.4-128413-Win.exe），安装完成之后，需要先配置下虚拟电脑的默认位置：管理 -> 全局设定 -> 虚拟电脑位置，本次笔记是改动到了 \"),t(\"code\",[s._v(\"E:\\\\VirtualBoxVMs\")])]),s._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[s._v(\"使用课程提供的 CentOS 6.5 镜像即可，CentOS-6.5-i386-minimal.iso\")]),s._v(\" \"),t(\"p\",[s._v(\"32 位的系统，由于讲师内存不是很大，32 位的能节省不少内存占用\")])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"创建虚拟机，打开 Virtual Box，点击“新建”按钮\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"虚拟机名称：eshop-cache01\")]),s._v(\" \"),t(\"li\",[s._v(\"类型：Linux\")]),s._v(\" \"),t(\"li\",[s._v(\"版本：Red Hat（32-bit）\")]),s._v(\" \"),t(\"li\",[s._v(\"内存大小：1024MB\")]),s._v(\" \"),t(\"li\",[s._v(\"硬盘创建：选项默认（位置也默认，因为修改了全局的虚拟电脑位置，会默认在该位置下）\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"设置虚拟机网卡：\")]),s._v(\" \"),t(\"p\",[s._v(\"选择创建好的虚拟机，点击“设置”按钮，在网络一栏中，连接方式中，选择“Bridged Adapter” 桥接网卡。\")])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"安装虚拟机中的 CentOS 6.5 操作系统\")]),s._v(\" \"),t(\"ol\",[t(\"li\",[s._v(\"选择创建好的虚拟机，点击启动\")]),s._v(\" \"),t(\"li\",[s._v(\"选择启动盘：选择安装介质（即本地的 CentOS-6.5-i386-minimal.iso 文件）后启动\")]),s._v(\" \"),t(\"li\",[s._v(\"选择第一项：Install or upgrade an existing system\")]),s._v(\" \"),t(\"li\",[s._v(\"Disc Found 弹窗中选择 Skip；（在虚拟机中鼠标怎么回到自己电脑？键盘右侧的 Ctrl 键，建议修改为 Ctrl + Alt 键，使用起来更方便 ）\")]),s._v(\" \"),t(\"li\",[s._v(\"图形界面选择 Next\")]),s._v(\" \"),t(\"li\",[s._v(\"语言选择：默认语言 English -> U.S.English\")]),s._v(\" \"),t(\"li\",[s._v(\"选择 Baisc Storage Devices -> Yes,discard any data\")]),s._v(\" \"),t(\"li\",[s._v(\"主机名：eshop-cache01\")]),s._v(\" \"),t(\"li\",[s._v(\"选择时区：Asia/Shanghai  亚洲/上海\")]),s._v(\" \"),t(\"li\",[s._v(\"设置初始密码（root 账户的）：hadoop\")]),s._v(\" \"),t(\"li\",[s._v(\"Replace Existing Linux System -> Write changes to disk\")])]),s._v(\" \"),t(\"p\",[s._v(\"CentOS 6.5 自己开始安装了，这次选择的是 mini 的安装，所以很快，大概 5 分钟左右\")])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"安装完以后，CentOS 会提醒你要重启一下，选择 reboot 重启。\")])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"配置网络\")]),s._v(\" \"),t(\"p\",[s._v(\"重启完成之后，使用 root/hadoop 登录系统，\\n由于只安装终端模式，没有 ui 模式，登录系统后看到的就和终端登录的类似界面\")]),s._v(\" \"),t(\"p\",[s._v(\"检测外网：\"),t(\"code\",[s._v(\"ping www.baidu.com\")])]),s._v(\" \"),t(\"p\",[s._v(\"检测宿主机：\"),t(\"code\",[s._v(\"ping 192.168.99.111\")]),s._v(\" ip 是你笔记本的局域网 ip\")]),s._v(\" \"),t(\"p\",[s._v(\"会发现都 ping 不通，配置网络为静态地址\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vi\")]),s._v(\" /etc/sysconfig/network-scripts/ifcfg-eth0\\n\\n文件内容，需要删除几个默认的项目，最后保持如下内容\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"DEVICE\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"eth0\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"TYPE\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"Ethernet\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ONBOOT\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"yes\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"BOOTPROTO\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"dhcp\\n\\n删除技巧：进入 \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vi\")]),s._v(\" 后，先不要按「i」键进入编辑模式，上下键移动到要删除的行，连续按两下「d」即可删除这一行文本\\n\\n使用 \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ifconfig\")]),s._v(\" 命令会发现没有 eth0 的信息\\n使用 \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"service\")]),s._v(\" network restart 重启网络，有可能会失败，如果显示 ok 的话，就是默认按照你的宿主机的相关网关信息分配了 ip，但是不要慌\\n\\n使用配置文件固定 \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ip\")]),s._v(\" 信息\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vi\")]),s._v(\" /etc/sysconfig/network-scripts/ifcfg-eth0\\n\\n修改为如下内容\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"DEVICE\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"eth0\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"TYPE\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"Ethernet\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ONBOOT\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"yes\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"BOOTPROTO\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"static\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"IPADDR\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"192.168\")]),s._v(\".99.170\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"NATMASK\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"255.255\")]),s._v(\".255.0\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"GATEWAY\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"192.168\")]),s._v(\".99.1\\n\\n对于桥接网络模式来说：就是配置成和你宿主机同一个局域网即可\\n\\n再次 \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"service\")]),s._v(\" network restart 重启网络服务和 \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ifconfig\")]),s._v(\" 查看 \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ip\")]),s._v(\" 信息\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"22\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"23\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"24\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"25\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"26\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"27\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"28\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"29\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"30\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"31\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"配置 hosts\")]),s._v(\" \"),t(\"p\",[t(\"code\",[s._v(\"vi /etc/hosts\")]),s._v(\" 增加一行，可以通过 eshop-cache01 访问本机\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"192.168\")]),s._v(\".99.170 eshop-cache01\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"配置 SecureCRT\")]),s._v(\" \"),t(\"p\",[s._v(\"此时就可以使用 SecureCRT 从本机连接到虚拟机进行操作了\")]),s._v(\" \"),t(\"p\",[s._v(\"一般来说，虚拟机管理软件，virtual box，可以用来创建和管理虚拟机，但是一般不会直接在 virtualbox 里面去操作，因为比较麻烦，没有办法复制粘贴\")]),s._v(\" \"),t(\"p\",[s._v(\"比如后面我们要安装很多其他的一些东西，perl、java、redis、storm，复制一些命令直接去执行\")]),s._v(\" \"),t(\"p\",[s._v(\"在这里本人喜欢使用 xshell，就以 xshell 开始了\")])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"关闭防火墙\")]),s._v(\" \"),t(\"p\",[s._v(\"原因是为了方便，因为一些软件如集群之间需要打开固定的端口，防止连接不上，先关闭防火墙\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"service\")]),s._v(\" iptables stop\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"service\")]),s._v(\" ip6tables stop\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chkconfig\")]),s._v(\" iptables off\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chkconfig\")]),s._v(\" ip6tables off\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\")])]),t(\"p\",[s._v(\"还有一个策略需要关闭下（视频中没有解说是为什么这个是什么）\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vi\")]),s._v(\" /etc/selinux/config\\n\\n内容修改为\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"SELINUX\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"disabled\\n\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\")])]),t(\"p\",[s._v(\"windows 上的防火墙也需要关闭，后面要搭建集群，有的大数据技术的集群之间，在本地你给了防火墙的话，可能会没有办法互相连接，会导致搭建失败\")])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"配置 yum 工具\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[s._v(\"yum clean all\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 生成缓存，安装的时候从缓存中查询相关数据，提高安装速度\")]),s._v(\"\\nyum makecache\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\")])]),t(\"p\",[s._v(\"安装 wget，可以通过该工具下载软件\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[s._v(\"yum \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])])]),s._v(\" \"),t(\"h3\",{attrs:{id:\"网络配置注意的地方\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#网络配置注意的地方\"}},[s._v(\"#\")]),s._v(\" 网络配置注意的地方\")]),s._v(\" \"),t(\"p\",[s._v(\"按照视频和百度来配置了好几个小时，笔记本用的无线网卡，同样无法连接网络，\\n可以 ping 通宿主机就是不能连接网络。\")]),s._v(\" \"),t(\"div\",{staticClass:\"custom-block tip\"},[t(\"p\",{staticClass:\"custom-block-title\"},[s._v(\"TIP\")]),s._v(\" \"),t(\"p\",[s._v(\"最后发现问题了，无论是 nat 还是是桥接模式。我在配置中把 GATEWAY 错写尘 GETEWAY 了\")])]),s._v(\" \"),t(\"p\",[s._v(\"最后选择 nat 勾选接入网线，\")]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"assets/markdown-img-paste-20190317155744770.png\",alt:\"\"}})]),s._v(\" \"),t(\"p\",[s._v(\"全局配置 nat 网络\")]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"assets/markdown-img-paste-20190317161634988.png\",alt:\"\"}})]),s._v(\" \"),t(\"p\",[s._v(\"如上配置说明：\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"网段：192.168.50.[2 ~ 254]\")]),s._v(\" \"),t(\"li\",[s._v(\"子网掩码：255.255.255.0\")]),s._v(\" \"),t(\"li\",[s._v(\"网关：192.168.50.1\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language- line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[s._v(\"vi /etc/sysconfig/network-scripts/ifcfg-eth0\\n中设置 BOOTPROTO=dhcp\\n\\n重启网络 service network restart 发现 ok 了。\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\")])]),t(\"p\",[s._v(\"通过 ifconfig 查看到的分配地址为\")]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"assets/markdown-img-paste-20190317161905852.png\",alt:\"\"}})]),s._v(\" \"),t(\"p\",[s._v(\"检测网络情况，均发现可以 ping 通\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"检测外网：\"),t(\"code\",[s._v(\"ping www.baidu.com\")])]),s._v(\" \"),t(\"li\",[s._v(\"检测宿主机：\"),t(\"code\",[s._v(\"ping 192.168.99.111\")]),s._v(\" ip 是你笔记本的局域网 ip\")])]),s._v(\" \"),t(\"p\",[s._v(\"那么静态化配置如下：\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"DEVICE\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"eth0\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"TYPE\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"Ethernet\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ONBOOT\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"yes\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"BOOTPROTO\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"static\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"IPADDR\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"192.168\")]),s._v(\".50.10\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"NETMASK\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"255.255\")]),s._v(\".255.0\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"GATEWAY\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"192.168\")]),s._v(\".50.1\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"桥接模式配置截图\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#桥接模式配置截图\"}},[s._v(\"#\")]),s._v(\" 桥接模式配置截图\")]),s._v(\" \"),t(\"p\",[s._v(\"一句话桥接模式重点：选择和物理机相同的网卡，且网段和物理机在同一网段即可\")]),s._v(\" \"),t(\"p\",[s._v(\"优点：配置简单，虚拟机在网络删就如同你物理机一\")]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"assets/markdown-img-paste-20190317173136250.png\",alt:\"\"}})]),s._v(\" \"),t(\"p\",[s._v(\"界面名称选择你物理机删连网用网卡；\")]),s._v(\" \"),t(\"h2\",{attrs:{id:\"在每个-centos-中都安装-java-和-perl\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#在每个-centos-中都安装-java-和-perl\"}},[s._v(\"#\")]),s._v(\" 在每个 CentOS 中都安装 Java 和 Perl\")]),s._v(\" \"),t(\"p\",[s._v(\"后面的很多软件都会依赖这两个软件\")]),s._v(\" \"),t(\"h3\",{attrs:{id:\"lrzsz-安装\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#lrzsz-安装\"}},[s._v(\"#\")]),s._v(\" lrzsz 安装\")]),s._v(\" \"),t(\"p\",[s._v(\"lrzsz 工具可以上传下载文件操作。所以比较方便\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[s._v(\"yum -y \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" lrzsz\\n\\nrz  \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 弹出上传文件的选择框，选择你要上传的文件\")]),s._v(\"\\nsz 文件名 \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 弹出下载保存文件框，把 虚拟机上的文件下载到本机\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\")])]),t(\"p\",[s._v(\"后面我们的软件都装在 \"),t(\"code\",[s._v(\"/usr/local\")]),s._v(\" 中，使用 \"),t(\"code\",[s._v(\"rm -rf ./*\")]),s._v(\" 清空该文件夹下的内容，\\n我看过该文件夹下的其他目录基本上都是空目录，所以放心删除\")]),s._v(\" \"),t(\"h3\",{attrs:{id:\"java-安装\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#java-安装\"}},[s._v(\"#\")]),s._v(\" JAVA 安装\")]),s._v(\" \"),t(\"p\",[t(\"code\",[s._v(\"jdk-7u65-linux-i586.rpm\")]),s._v(\" 本次使用这个 java 版本，把包上传到 /usr/local 中\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 安装 java\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 后补：官网下载的 jdk8 rpm 包，执行 -ivh 之后就已经安装好了\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 通过 find / -name java 找到安装到了 /usr/java 目录下，环境变量暂时不知道在哪里配置的\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"rpm\")]),s._v(\" -ivh jdk-7u65-linux-i586.rpm\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 删除安装包\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"rm\")]),s._v(\" -rf jdk-7u65-linux-i586.rpm\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\")])]),t(\"p\",[s._v(\"配置环境变量\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vi\")]),s._v(\" ~/.bashrc\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 增加 java 环境变量\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"export\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"JAVA_HOME\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"/usr/java/latest\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"export\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[t(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[s._v(\"PATH\")])]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[s._v(\"$PATH\")]),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\":\")]),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$JAVA_HOME\")]),s._v(\"/bin\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 刷新环境变量\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"source\")]),s._v(\" ~/.bashrc\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 检查是否安装成功\")]),s._v(\"\\njava -version\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"rpm-自动安装后的环境变量问题\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#rpm-自动安装后的环境变量问题\"}},[s._v(\"#\")]),s._v(\" rpm 自动安装后的环境变量问题\")]),s._v(\" \"),t(\"p\",[s._v(\"通过 rpm 安装之后，可以通过以下方式查找生效的命令路径，通过以下命令查找之后，发现最终指向了 jre/bin/java； 也就是说不是通过环境变量，而是直接是软连方式\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"root@eshop-detail01 local\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# which java\")]),s._v(\"\\n/usr/bin/java\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"root@eshop-detail01 local\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# ls -l /usr/bin/java\")]),s._v(\"\\nlrwxrwxrwx \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1\")]),s._v(\" root root \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"22\")]),s._v(\" Jul \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"15\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"23\")]),s._v(\":09 /usr/bin/java -\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\" /etc/alternatives/java\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"root@eshop-detail01 local\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# ll /etc/alternatives/java\")]),s._v(\"\\nlrwxrwxrwx \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1\")]),s._v(\" root root \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"40\")]),s._v(\" Jul \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"15\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"23\")]),s._v(\":09 /etc/alternatives/java -\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\" /usr/java/jdk1.8.0_202-i586/jre/bin/java\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"安装-perl\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装-perl\"}},[s._v(\"#\")]),s._v(\" 安装 Perl\")]),s._v(\" \"),t(\"p\",[s._v(\"perl：是一个基础的编程语言的安装，如同 java 一样\")]),s._v(\" \"),t(\"p\",[s._v(\"为什么要装 perl？对于大型电商网站的详情页系统来说是很复杂的。nginx+lua 的时候就需要依赖 perl\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 先安装 gcc\")]),s._v(\"\\nyum \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" -y gcc\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 下载 per\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\" http://www.cpan.org/src/5.0/perl-5.16.1.tar.gz\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 解压\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"tar\")]),s._v(\" -xzf perl-5.16.1.tar.gz\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 记得，我们都在 /usr/local 中操作\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" perl-5.16.1\\n./Configure -des -Dprefix\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"/usr/local/perl\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 该命令耗时很长，只能等着\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"make\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"make\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"test\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"make\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 检查是否安装成功\")]),s._v(\"\\nperl -v\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),t(\"br\")])]),t(\"p\",[s._v(\"很多讲师，拿着自己之前花了很多时间调试好的虚拟机环境，去讲课，这个很不负责任，\\n要全新安装一个环境其实要做的事情还是很多的，有时候自己都有可能忘记了\")]),s._v(\" \"),t(\"h2\",{attrs:{id:\"在-4-个虚拟机中安装-centos-集群\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#在-4-个虚拟机中安装-centos-集群\"}},[s._v(\"#\")]),s._v(\" 在 4 个虚拟机中安装 CentOS 集群\")]),s._v(\" \"),t(\"p\",[s._v(\"现在只装好了一台虚拟机，还需要装三台。笨的方法就是手工一台一台按照上面的步骤去安装；\")]),s._v(\" \"),t(\"p\",[s._v(\"机器分布\")]),s._v(\" \"),t(\"table\",[t(\"thead\",[t(\"tr\",[t(\"th\",[s._v(\"hostName\")]),s._v(\" \"),t(\"th\",[s._v(\"ip\")])])]),s._v(\" \"),t(\"tbody\",[t(\"tr\",[t(\"td\",[s._v(\"eshop-cache01\")]),s._v(\" \"),t(\"td\",[s._v(\"192.168.99.170\")])]),s._v(\" \"),t(\"tr\",[t(\"td\",[s._v(\"eshop-cache02\")]),s._v(\" \"),t(\"td\",[s._v(\"192.168.99.171\")])]),s._v(\" \"),t(\"tr\",[t(\"td\",[s._v(\"eshop-cache03\")]),s._v(\" \"),t(\"td\",[s._v(\"192.168.99.172\")])]),s._v(\" \"),t(\"tr\",[t(\"td\",[s._v(\"eshop-cache04\")]),s._v(\" \"),t(\"td\",[s._v(\"192.168.99.173\")])])])]),s._v(\" \"),t(\"p\",[s._v(\"这里选择使用 VirtualBox 的复制功能来完成其他 3 台机器的安装。（复制需要先关闭被复制的机器）\")]),s._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[s._v(\"复制\")]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"assets/markdown-img-paste-20190317211105152.png\",alt:\"\"}})])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"修改每台机器的静态 ip\")])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"修改每台机器的 hostName\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 手动修改该文件中的主机名\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vi\")]),s._v(\" /etc/sysconfig/network\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[t(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[s._v(\"HOSTNAME\")])]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"XXXX\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 修改 hosts 中的 hostname\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 对于 hosts 中的修改，在本次的笔记实践过程中没有发现生成主机名的域名映射，所以可以忽略\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vi\")]),s._v(\" /etc/hosts\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"127.0\")]),s._v(\".0.1 localhost  \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 这个是默认的\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"127.0\")]),s._v(\".0.1 对应主机名 \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 我们主要是修改这个和主机名一致即可\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\")])]),t(\"p\",[s._v(\"修改完所有的机器后，建议都重启，使用新 xshell 连接复制修改下面的域名地址映射\")])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"每台机器的 hosts 配置域名地址映射；\")]),s._v(\" \"),t(\"div\",{staticClass:\"language- line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[s._v(\"vi /etc/hosts\\n\\n192.168.99.170 eshop-cache01\\n192.168.99.171 eshop-cache02\\n192.168.99.172 eshop-cache03\\n192.168.99.173 eshop-cache04\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\")])]),t(\"p\",[s._v(\"配置完成之后可以使用 ping 检查是否已经配置好了域名映射，比如在 04 上运行 \"),t(\"code\",[s._v(\"ping eshop-cache01\")])])])]),s._v(\" \"),t(\"p\",[s._v(\"对于复制的机器网络服务启动不起来，也就是使用 \"),t(\"code\",[s._v(\"service network restart\")]),s._v(\" 命令失败出现该错误  \"),t(\"code\",[s._v(\"device eth0 does not seem to be present,delaying initializationvim\")])]),s._v(\" \"),t(\"p\",[s._v(\"解决方案：\")]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"assets/markdown-img-paste-20190317213804802.png\",alt:\"\"}})]),s._v(\" \"),t(\"p\",[s._v(\"如图，修改 \"),t(\"code\",[s._v(\"vi /etc/udev/rules.d/70-persistent-net.rules\")]),s._v(\" 中的内容与桥接网卡的 mac 地址一致即可\")]),s._v(\" \"),t(\"h2\",{attrs:{id:\"配置-4-台-centos-为-ssh-免密码互相通信\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#配置-4-台-centos-为-ssh-免密码互相通信\"}},[s._v(\"#\")]),s._v(\" 配置 4 台 CentOS 为 ssh 免密码互相通信\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 生成秘钥，命令中一直回车即可\")]),s._v(\"\\nssh-keygen -t rsa\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 进入秘钥文件目录\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" /root/.ssh/\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 让自己本机使用 ssh 免密，把 pub 中的内容复制到 authorized_keys 文件中\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"cp\")]),s._v(\" id_rsa.pub authorized_keys\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 可使用 ssh 命令连接本机 hostname，提示输入 yes 即可登录\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ssh\")]),s._v(\" eshop-cache01\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 退出 ssh 登录的终端\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"exit\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\")])]),t(\"p\",[s._v(\"把自己的公钥 copy 到要指定机器的 authorized_keys 文件中，\\n也就是说，你想要免密登录那一台机器就把自己的公钥写入 authorized_keys 文件夹中\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 命令语法如下，在执行该命令的时候需要输入指定机器的密码\")]),s._v(\"\\nssh-copy-id -i \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"hostname\")]),s._v(\"\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 比如\")]),s._v(\"\\nssh-copy-id -i eshop-cache01\\nssh-copy-id -i eshop-cache02\\nssh-copy-id -i eshop-cache03\\nssh-copy-id -i eshop-cache04\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\")])]),t(\"p\",[s._v(\"一个小技巧，其他三台机器都使用 \"),t(\"code\",[s._v(\"ssh-copy-id -i eshop-cache01\")]),s._v(\" 把公钥集中到一台机器上，这样  authorized_keys 中的文件内容就包含了 4 台机器的公钥，这个时候只需要把该文件内容 copy 到其他 3 台机器覆盖即可，可以使用如下命令来复制\")]),s._v(\" \"),t(\"p\",[s._v(\"在 eshop-cache01 上\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" /root/.ssh\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"scp\")]),s._v(\" authorized_keys eshop-cache02:/root/.ssh\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"scp\")]),s._v(\" authorized_keys eshop-cache03:/root/.ssh\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"scp\")]),s._v(\" authorized_keys eshop-cache04:/root/.ssh\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\")])]),t(\"h2\",{attrs:{id:\"为什么带领大家从-0-开始部署环境\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#为什么带领大家从-0-开始部署环境\"}},[s._v(\"#\")]),s._v(\" 为什么带领大家从 0 开始部署环境\")]),s._v(\" \"),t(\"p\",[s._v(\"做 java 在公司里做项目，有几个人是自己去维护 linux 集群的？几乎没有，或者很少很少，类似这一讲要做的事情，其实都是 SRE（运维的同学）去做的\")]),s._v(\" \"),t(\"p\",[s._v(\"但是对于课程来说，我们只能自己一步一步做，才有环境去学习啊！\")]),s._v(\" \"),t(\"p\",[s._v(\"基于虚拟机的 linux 集群环境，都准备好了，手上有 4 台机器，后面玩儿各种 redis、kafka、storm、tomcat、nginx，都有机器了\")])])}),[],!1,null,null,null);a.default=e.exports}}]);","extractedComments":[]}