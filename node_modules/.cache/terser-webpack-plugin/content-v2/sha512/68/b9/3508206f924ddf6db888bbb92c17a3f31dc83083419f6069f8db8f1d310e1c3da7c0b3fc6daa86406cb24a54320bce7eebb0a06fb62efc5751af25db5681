{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[253],{644:function(s,a,n){\"use strict\";n.r(a);var r=n(13),t=Object(r.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[n(\"h1\",{attrs:{id:\"_066-纯手工集群部署\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_066-纯手工集群部署\"}},[s._v(\"#\")]),s._v(\" 066. 纯手工集群部署\")]),s._v(\" \"),n(\"h2\",{attrs:{id:\"确认是否安装了依赖\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#确认是否安装了依赖\"}},[s._v(\"#\")]),s._v(\" 确认是否安装了依赖\")]),s._v(\" \"),n(\"ul\",[n(\"li\",[s._v(\"java 1.7 +\")]),s._v(\" \"),n(\"li\",[s._v(\"pythong 2.6.6 该软件之前被安装过\")])]),s._v(\" \"),n(\"h2\",{attrs:{id:\"storm-安装\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#storm-安装\"}},[s._v(\"#\")]),s._v(\" storm 安装\")]),s._v(\" \"),n(\"div\",{staticClass:\"language- line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[s._v(\"cd /usr/local\\ntar -zxvf apache-storm-1.1.0.tar.gz\\nmv apache-storm-1.1.0 storm\\n\\n# 配置环境变量，添加 /usr/local/bin\\nvi ~/.bashrc\\nsource ~/.bashrc\\n\\n# 查看 storm 版本\\nstorm version\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),n(\"br\")])]),n(\"h2\",{attrs:{id:\"修改-storm-配置文件\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#修改-storm-配置文件\"}},[s._v(\"#\")]),s._v(\" 修改 storm 配置文件\")]),s._v(\" \"),n(\"div\",{staticClass:\"language- line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[s._v('mkdir /var/storm\\nvi /usr/local/storm/conf/storm.yaml\\n# 需要修改的配置内容如下：\\n# -------------------------\\nstorm.zookeeper.servers:\\n     - \"192.168.99.170\"\\n     - \"192.168.99.171\"\\n     - \"192.168.99.172\"\\n# storm.zookeeper.port: 2181\\nnimbus.seeds: [\"192.168.99.170\"]\\n\\nstorm.local.dir: \"/var/storm\"\\n\\n# 指定每个机器上可以启动多少个 worker，一个端口号代表一个\\nsupervisor.slots.ports:\\n    - 6700\\n    - 6701\\n    - 6702\\n    - 6703\\n\\n# -------------------------\\n')])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),n(\"br\")])]),n(\"p\",[s._v(\"一台装好了，再装另外的几台，通过 scp 命令 copy\")]),s._v(\" \"),n(\"div\",{staticClass:\"language- line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[s._v(\"scp ~/.bashrc root@eshop-cache02:~/\\nscp -r /usr/local/storm/ root@eshop-cache02:/usr/local/\\n\\n并创建 mkdir /var/storm 和刷新环境变量文件 source ~/.bashrc\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\")])]),n(\"p\",[s._v(\"一共创建三个节点：在 eshop-cache01、eshop-cache02、eshop-cache03\")]),s._v(\" \"),n(\"h2\",{attrs:{id:\"启动-storm-集群和-ui-界面\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#启动-storm-集群和-ui-界面\"}},[s._v(\"#\")]),s._v(\" 启动 storm 集群和 ui 界面\")]),s._v(\" \"),n(\"div\",{staticClass:\"language- line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[s._v(\"# 一个节点 在 01 上\\nstorm nimbus >/dev/null 2>&1 &\\n# 三个节点\\nstorm supervisor >/dev/null 2>&1 &\\n# 也是需要三个节点，否则在 ui 中访问 8000 端口的日志浏览会404\\nstorm logviewer > /dev/null 2>&1 &\\n# 一个节点 在 01 上\\nstorm ui >/dev/null 2>&1 &\\n\\n# 可以通过 jps 命令查看是否已经启动\\n[root@eshop-cache01 conf]# jps\\n10116 Jps\\n1576 Kafka\\n1447 QuorumPeerMain\\n9944 nimbus   这里已经被启动了\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),n(\"br\")])]),n(\"p\",[s._v(\"ui 访问地址：\"),n(\"code\",[s._v(\"http://eshop-cache01:8080/index.html\")])]),s._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:\"assets/markdown-img-paste-20190519171446988.png\",alt:\"\"}})])])}),[],!1,null,null,null);a.default=t.exports}}]);","extractedComments":[]}