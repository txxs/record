{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[210],{625:function(t,s,a){\"use strict\";a.r(s);var e=a(13),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"_108-hystrix-dashboard-可视化分布式系统监控环境部署\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_108-hystrix-dashboard-可视化分布式系统监控环境部署\"}},[t._v(\"#\")]),t._v(\" 108. hystrix dashboard 可视化分布式系统监控环境部署\")]),t._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"a\",{attrs:{href:\"https://github.com/Netflix-Skunkworks/hystrix-dashboard/wiki\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"官网直达\"),a(\"OutboundLink\")],1),t._v(\"\\n里面讲解了怎么安装 dashboard 和监控中的一些数值表示什么意思\")])]),t._v(\" \"),a(\"h2\",{attrs:{id:\"turbine-web-安装\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#turbine-web-安装\"}},[t._v(\"#\")]),t._v(\" turbine-web 安装\")]),t._v(\" \"),a(\"p\",[t._v(\"turbine-web 是监控集群的，可以聚合集群中的所有机器相同的度量标准到一个报表中\")]),t._v(\" \"),a(\"p\",[t._v(\"由于在官网中，只找到了打包好的 turbine-web ，就使用它来启动\")]),t._v(\" \"),a(\"p\",[t._v(\"下载：https://github.com/downloads/Netflix/Turbine/turbine-web-1.0.0.war\")]),t._v(\" \"),a(\"p\",[t._v(\"要使用集群功能，需要先配置有哪些机器\")]),t._v(\" \"),a(\"p\",[t._v(\"在 /WEB-INF/classes/config.properties 文件中增加以下配置\")]),t._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v(\"turbine.ConfigPropertyBasedDiscovery.default.instances=localhost\\nturbine.instanceUrlSuffix=:7001/hystrix.stream\\n\")])]),t._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[t._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"2\")]),a(\"br\")])]),a(\"p\",[t._v(\"以上配置：\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"instances ： 实例 ip\")]),t._v(\" \"),a(\"li\",[t._v(\"instanceUrlSuffix：实例前缀\")])]),t._v(\" \"),a(\"p\",[t._v(\"instanceUrlSuffix 是什么意思呢？在前面已经讲解到，单个项目需要暴露出订阅流信息，\\n供其他程序进行处理展示，所以需要先配置暴露流的功能\")]),t._v(\" \"),a(\"h2\",{attrs:{id:\"hystrix-metrics-event-stream\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#hystrix-metrics-event-stream\"}},[t._v(\"#\")]),t._v(\" hystrix-metrics-event-stream\")]),t._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"a\",{attrs:{href:\"https://github.com/Netflix/Hystrix/tree/master/hystrix-contrib/hystrix-metrics-event-stream\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"官网直达\"),a(\"OutboundLink\")],1)])]),t._v(\" \"),a(\"p\",[t._v(\"增加依赖\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-groovy line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-groovy\"}},[a(\"code\",[t._v(\"compile \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'com.netflix.hystrix:hystrix-metrics-event-stream:1.4.10'\")]),t._v(\"\\n\")])]),t._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[t._v(\"1\")]),a(\"br\")])]),a(\"p\",[t._v(\"将提供的 HystrixMetricsStreamServlet 注册到系统中\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-java line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Bean\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ServletRegistrationBean\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"indexServletRegistration\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ServletRegistrationBean\")]),t._v(\" registration \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ServletRegistrationBean\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"HystrixMetricsStreamServlet\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    registration\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"addUrlMappings\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"/hystrix.stream\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" registration\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\")])]),t._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[t._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"7\")]),a(\"br\")])]),a(\"p\",[t._v(\"测试地址：\"),a(\"code\",[t._v(\"http://localhost:7001/hystrix.stream\")])]),t._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v('ping:   // 当刚启动系统时，没有任何度量数据会一直刷屏 ping\\n\\n// 然后访问一下触发几个 command 执行之后，就会有相关的统计信息输出了\\n\\ndata: {\"type\":\"HystrixCommand\",\"name\":\"GetValueForKy\",\"\\n')])]),t._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[t._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"5\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"turbine-web-启动后效果查看\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#turbine-web-启动后效果查看\"}},[t._v(\"#\")]),t._v(\" turbine-web 启动后效果查看\")]),t._v(\" \"),a(\"p\",[t._v(\"由于下载的是 war 包，修改配置之后，放在一个 tomcat7+ 版本中，启动 tomcat\")]),t._v(\" \"),a(\"p\",[t._v(\"war 包地址： \"),a(\"code\",[t._v(\"D:\\\\Program Files\\\\apache-tomcat-7.0.42\\\\webapps\\\\turbine.war\")]),t._v(\" (原始 war 包名称修改过)\")]),t._v(\" \"),a(\"p\",[t._v(\"运行 bat 启动 tomcat \"),a(\"code\",[t._v(\"D:\\\\Program Files\\\\apache-tomcat-7.0.42\\\\bin\\\\startup.bat\")])]),t._v(\" \"),a(\"p\",[t._v(\"访问地址：\"),a(\"code\",[t._v(\"http://localhost:8080/turbine/turbine.stream\")]),t._v(\" ，可以看到和访问单个项目是一样的效果\")]),t._v(\" \"),a(\"h2\",{attrs:{id:\"安装-hystrix-dashboard\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装-hystrix-dashboard\"}},[t._v(\"#\")]),t._v(\" 安装 hystrix-dashboard\")]),t._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"a\",{attrs:{href:\"https://search.maven.org/search?q=a:hystrix-dashboard\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"下面的 war 包是被发布在 maven 仓库中的\"),a(\"OutboundLink\")],1),t._v(\" \"),a(\"a\",{attrs:{href:\"https://search.maven.org/remotecontent?filepath=com/netflix/hystrix/hystrix-dashboard/1.5.18/hystrix-dashboard-1.5.18.war\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"war 包下载地址\"),a(\"OutboundLink\")],1)])]),t._v(\" \"),a(\"p\",[t._v(\"下载后将 hystrix-dashboard-1.5.18.war 改名为 hystrix-dashboard.war，然后放到 tomcat \"),a(\"code\",[t._v(\"D:\\\\Program Files\\\\apache-tomcat-7.0.42\\\\webapps\\\\\")]),t._v(\" 下。重启 tomcat\")]),t._v(\" \"),a(\"p\",[t._v(\"访问地址：\"),a(\"code\",[t._v(\"http://localhost:8080/hystrix-dashboard/\")])]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"assets/markdown-img-paste-20190616175917743.png\",alt:\"\"}})]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"本机缓存服务实例：\"),a(\"code\",[t._v(\"http://localhost:7001/hystrix.stream\")])]),t._v(\" \"),a(\"li\",[t._v(\"本机 turbine 集群：\"),a(\"code\",[t._v(\"http://localhost:8080/turbine/turbine.stream\")])])]),t._v(\" \"),a(\"p\",[t._v(\"单个实例截图\")]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"assets/markdown-img-paste-2019061618013443.png\",alt:\"\"}})]),t._v(\" \"),a(\"p\",[t._v(\"集群实例截图\")]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"assets/markdown-img-paste-20190616180232277.png\",alt:\"\"}})]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"assets/markdown-img-paste-20190616180251343.png\",alt:\"\"}})]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"assets/markdown-img-paste-20190616180321706.png\",alt:\"\"}})]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"assets/markdown-img-paste-2019061618083666.png\",alt:\"\"}})]),t._v(\" \"),a(\"p\",[t._v(\"dashboard 上的指标都是什么？下面有说明一些简要的\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[t._v(\"圆圈的颜色和大小代表了健康状况以及流量，折线代表了最近 2 分钟的请求流量\")]),t._v(\" \"),a(\"p\",[t._v(\"监控图中用圆点来表示服务的健康状态，健康度从 100%-0% 分别会用绿色、黄色、橙色、红色来表示。 另外，这个圆点也会随着流量的增多而变大。 监控图中会用曲线（圆点旁边）来表示服务的流量情况，通过这个曲线可以观察单个接口的流量变化/趋势\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"Hosts：集群中的机器数量\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"Host、Cluster：集群中 QPS 平均值\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"上面有好几个彩色的数据：\")]),t._v(\" \"),a(\"p\",[t._v(\"右侧有颜色说明，10 秒内请求数量统计\")]),t._v(\" \"),a(\"p\",[t._v(\"那个灰色的百分比则是最近 10 秒内的异常请求比例\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"circuit：断路器的状态\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"最近一分钟的请求延时百分比，TP90，TP99，TP99.5\")]),t._v(\" \"),a(\"p\",[t._v(\"比如第一个 GetValueForKy：百分之 90 的耗时在 20 毫秒\")])])]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"assets/markdown-img-paste-20190616181619375.png\",alt:\"\"}})]),t._v(\" \"),a(\"blockquote\",[a(\"p\",[t._v(\"本文中部分图来自 \"),a(\"a\",{attrs:{href:\"https://blog.csdn.net/wm6752062/article/details/86136204\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"贲_WM\"),a(\"OutboundLink\")],1)])]),t._v(\" \"),a(\"h2\",{attrs:{id:\"仪表盘注意事项\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#仪表盘注意事项\"}},[t._v(\"#\")]),t._v(\" 仪表盘注意事项\")]),t._v(\" \"),a(\"p\",[t._v(\"比如以下配置，使用动态大小这种\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-java line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"super\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Setter\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"withGroupKey\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"HystrixCommandGroupKey\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"Factory\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"asKey\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"GetProductCommandGroup\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n               \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 不同的线程池\")]),t._v(\"\\n               \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"andThreadPoolKey\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"HystrixThreadPoolKey\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"Factory\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"asKey\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"GetProductCommand2Pool\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n                       \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"andThreadPoolPropertiesDefaults\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"HystrixThreadPoolProperties\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"Setter\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n                                       \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 配置线程池大小，同时并发能力个数\")]),t._v(\"\\n                                       \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"withCoreSize\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"5\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n                                       \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 设置线程池的最大大小，只有在设置 allowMaximumSizeToDivergeFromCoreSize 的时候才能生效\")]),t._v(\"\\n                                       \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"withMaximumSize\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"100\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n                                       \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 设置之后，其实 coreSize 就失效了\")]),t._v(\"\\n                                       \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"withAllowMaximumSizeToDivergeFromCoreSize\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n                                       \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 设置保持存活的时间，单位是分钟，默认是 1\")]),t._v(\"\\n                                       \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 当线程池中线程空闲超过该时间之后，就会被销毁\")]),t._v(\"\\n                                       \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"withKeepAliveTimeMinutes\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n                               \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 配置等待线程个数；如果不配置该项，则没有等待，超过则拒绝\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"//                        .withMaxQueueSize(5)\")]),t._v(\"\\n                               \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 由于 maxQueueSize 是初始化固定的，该配置项是动态调整最大等待数量的\")]),t._v(\"\\n                               \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 可以热更新；规则：只能比 MaxQueueSize 小，\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"//                        .withQueueSizeRejectionThreshold(2)\")]),t._v(\"\\n                       \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\\n       \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),t._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[t._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"19\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"20\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"21\")]),a(\"br\")])]),a(\"p\",[t._v(\"在仪表盘中是如下图显示，也就是说 ui 上显示的 poolSize 貌似就是这里 coreSize 的大小；\\n所以对于 ui 上每项含义还需要进一步弄清楚是什么意思\")]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"assets/markdown-img-paste-20190618213228495.png\",alt:\"\"}})]),t._v(\" \"),a(\"h2\",{attrs:{id:\"hystrix-dashboard-含义\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#hystrix-dashboard-含义\"}},[t._v(\"#\")]),t._v(\" hystrix-dashboard 含义\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"线程池\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#线程池\"}},[t._v(\"#\")]),t._v(\" 线程池\")]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"assets/markdown-img-paste-20190618213228495.png\",alt:\"\"}})]),t._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[t._v(\"Cluster：待证实\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"Host：待证实\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"Active：待证实\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"Queued：待证实\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"Pool Size ：目前线程池中存活的线程\")]),t._v(\" \"),a(\"p\",[t._v(\"注意：在 ui 上变大能看到变化，数值变小貌似是个 bug，不会实时的显示，\\n需要自己手动刷新页面才能看到变化\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"Max Active：待证实\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"Executions：目前正在执行的线程\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"Queue Size：等待队列大小\")]),t._v(\" \"),a(\"p\",[t._v(\"如果该项不为 0 那么一定是哪里设置了 maxQueueSize 或者 QueueSizeRejectionThreshold 的值\")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);","extractedComments":[]}