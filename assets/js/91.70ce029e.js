(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{525:function(t,s,r){"use strict";r.r(s);var e=r(13),_=Object(e.a)({},(function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"_068-缓存冷启动问题-新系统上线-redis-彻底崩溃导致数据无法恢复"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_068-缓存冷启动问题-新系统上线-redis-彻底崩溃导致数据无法恢复"}},[t._v("#")]),t._v(" 068. 缓存冷启动问题：新系统上线 redis 彻底崩溃导致数据无法恢复")]),t._v(" "),r("p",[t._v("什么是缓存冷启动？简单说就是缓存中没有数据，考虑下面两个场景")]),t._v(" "),r("ol",[r("li",[t._v("新系统第一次上线，此时在缓存里可能是没有数据的")]),t._v(" "),r("li",[t._v("系统在线上稳定运行着，但是突然间重要的 redis 缓存全盘崩溃了，而且不幸的是，数据全都无法找回来")])]),t._v(" "),r("p",[t._v("系统第一次上线启动，系统在 redis 故障的情况下重新启动，在高并发的场景下就会出现所有的流量\n都会打到 mysql（原始数据库） 上去。可能导致 mysql 崩溃")]),t._v(" "),r("p",[t._v("以下是图示：")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://txxs.github.io/pic/record/cache-pdp/markdown-img-paste-20190519221440219.png",alt:""}})]),t._v(" "),r("p",[t._v("本章要主题的点是 "),r("strong",[t._v("「冷启动」")]),t._v("，是说缓存中没有数据但是缓存短时间又恢复正常后的流量被大量打到 mysql。")]),t._v(" "),r("p",[t._v("那么还有一种情况是「缓存雪崩」，可能是缓存失效、redis 挂了等，流量被大量打到 mysql 中")]),t._v(" "),r("p",[t._v("注意这两个场景的关注点是不同的。")])])}),[],!1,null,null,null);s.default=_.exports}}]);