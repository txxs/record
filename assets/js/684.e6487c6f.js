(window.webpackJsonp=window.webpackJsonp||[]).push([[684],{1076:function(t,s,a){"use strict";a.r(s);var r=a(13),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_0-相关源码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-相关源码"}},[t._v("#")]),t._v(" 0 "),a("a",{attrs:{href:"https://github.com/Wasabi1234/Java-Concurrency-Progamming-Tutorial",target:"_blank",rel:"noopener noreferrer"}},[t._v("相关源码"),a("OutboundLink")],1)]),t._v(" "),a("h1",{attrs:{id:"_1-虚假的线程中止-stop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-虚假的线程中止-stop"}},[t._v("#")]),t._v(" 1 虚假的线程中止- Stop")]),t._v(" "),a("p",[t._v("Stop:中止线程，并且清除监控器锁的信息，但是可能导致线程安全问题，JDK不建议用。\nDestroy: JDK未实现该方法")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/201908260337305.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/201908260337546.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),a("ul",[a("li",[t._v("理想输出\ni=1 j=1")]),t._v(" "),a("li",[t._v("程序执行结果\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/2019082702021450.png",alt:""}})])]),t._v(" "),a("p",[a("strong",[a("code",[t._v("没有保证同步代码块里面数据的一致性，破坏了线程安全")])])]),t._v(" "),a("h1",{attrs:{id:"_2-真正的线程终止"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-真正的线程终止"}},[t._v("#")]),t._v(" 2 真正的线程终止")]),t._v(" "),a("h2",{attrs:{id:"_2-1-interrupt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-interrupt"}},[t._v("#")]),t._v(" 2.1  interrupt")]),t._v(" "),a("p",[t._v("如果目标线程在调用Object class 的")]),t._v(" "),a("ul",[a("li",[t._v("wait()\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190828014520704.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),a("li",[t._v("wait(long)\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190828014439994.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),a("li",[t._v("wait(long, int)\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190828014959986.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})])]),t._v(" "),a("p",[t._v("或者Thread类的")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("join()\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190828015451863.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("join(long, int)\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190829011105200.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("sleep(long, int)\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190829011219813.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})])])]),t._v(" "),a("p",[t._v("时被阻塞,那么"),a("strong",[t._v("Interrupt")]),t._v("会生效， 该线程的中断状态将被清除，拋"),a("strong",[t._v("InterruptedException")])]),t._v(" "),a("p",[t._v("如果目标线程是被I/O或者NIO中的Channel所阻塞，同样，I/O操作会被中断或者返回特殊异常值。达到终止线程的目的。")]),t._v(" "),a("p",[t._v("如果以上条件都不满足，则会设置此线程的中断状态。\n对于上面的示例")]),t._v(" "),a("ul",[a("li",[t._v("stop改成interrupt\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190829011507232.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),a("li",[t._v("最终输出为“i=1 j=1”,数据一致\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190829011539438.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})])]),t._v(" "),a("h2",{attrs:{id:"_2-2-标志位"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-标志位"}},[t._v("#")]),t._v(" 2.2 标志位")]),t._v(" "),a("ul",[a("li",[t._v("即代码中，增加一个判断，来控制线程执行的中止\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190829012012993.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})])]),t._v(" "),a("h1",{attrs:{id:"x-交流学习"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#x-交流学习"}},[t._v("#")]),t._v(" X 交流学习")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190504005601174.jpg",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"java交流群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#java交流群"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://jq.qq.com/?_wv=1027&k=5UB4P1T",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java交流群"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"博客"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#博客"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://blog.csdn.net/qq_33589510",target:"_blank",rel:"noopener noreferrer"}},[t._v("博客"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"github"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/Wasabi1234",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);