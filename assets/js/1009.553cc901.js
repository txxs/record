(window.webpackJsonp=window.webpackJsonp||[]).push([[1009],{1401:function(t,s,a){"use strict";a.r(s);var r=a(13),n=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("本周的主题就是股票系列，来一起回顾一下吧")]),t._v(" "),a("h2",{attrs:{id:"周一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#周一"}},[t._v("#")]),t._v(" 周一")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://programmercarl.com/0122.%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BAII%EF%BC%88%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%EF%BC%89.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("动态规划：买卖股票的最佳时机II"),a("OutboundLink")],1),t._v("中股票可以买买多了次！")]),t._v(" "),a("p",[t._v("这也是和"),a("a",{attrs:{href:"https://programmercarl.com/0121.%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("121. 买卖股票的最佳时机"),a("OutboundLink")],1),t._v("的唯一区别（注意只有一只股票，所以再次购买前要出售掉之前的股票）")]),t._v(" "),a("p",[t._v("重点在于递推公式公式的不同。")]),t._v(" "),a("p",[t._v("在回顾一下dp数组的含义：")]),t._v(" "),a("ul",[a("li",[t._v("dp[i][0] 表示第i天持有股票所得现金。")]),t._v(" "),a("li",[t._v("dp[i][1] 表示第i天不持有股票所得最多现金")])]),t._v(" "),a("p",[t._v("递推公式：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] - prices[i]);\ndp[i][1] = max(dp[i - 1][1], dp[i - 1][0] + prices[i]);\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("大家可以发现本题和"),a("a",{attrs:{href:"https://programmercarl.com/0121.%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("121. 买卖股票的最佳时机"),a("OutboundLink")],1),t._v("的代码几乎一样，唯一的区别在：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] - prices[i]);\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("strong",[t._v("这正是因为本题的股票可以买卖多次！")]),t._v(" 所以买入股票的时候，可能会有之前买卖的利润即：dp[i - 1][1]，所以dp[i - 1][1] - prices[i]。")]),t._v(" "),a("h2",{attrs:{id:"周二"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#周二"}},[t._v("#")]),t._v(" 周二")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://programmercarl.com/0123.%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BAIII.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("动态规划：买卖股票的最佳时机III"),a("OutboundLink")],1),t._v("中最多只能完成两笔交易。")]),t._v(" "),a("p",[a("strong",[t._v("这意味着可以买卖一次，可以买卖两次，也可以不买卖")]),t._v("。")]),t._v(" "),a("ol",[a("li",[t._v("确定dp数组以及下标的含义")])]),t._v(" "),a("p",[t._v("一天一共就有五个状态，\n0. 没有操作")]),t._v(" "),a("ol",[a("li",[t._v("第一次买入")]),t._v(" "),a("li",[t._v("第一次卖出")]),t._v(" "),a("li",[t._v("第二次买入")]),t._v(" "),a("li",[t._v("第二次卖出")])]),t._v(" "),a("p",[a("strong",[t._v("dp[i][j]中 i表示第i天，j为 [0 - 4] 五个状态，dp[i][j]表示第i天状态j所剩最大现金")]),t._v("。")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("确定递推公式")])]),t._v(" "),a("p",[t._v("需要注意：dp[i][1]，"),a("strong",[t._v("表示的是第i天，买入股票的状态，并不是说一定要第i天买入股票，这是很多同学容易陷入的误区")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("dp[i][1] = max(dp[i-1][0] - prices[i], dp[i - 1][1]);\ndp[i][2] = max(dp[i - 1][1] + prices[i], dp[i - 1][2]);\ndp[i][3] = max(dp[i - 1][3], dp[i - 1][2] - prices[i]);\ndp[i][4] = max(dp[i - 1][4], dp[i - 1][3] + prices[i]);\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("dp数组如何初始化")])]),t._v(" "),a("p",[t._v("dp[0][0] = 0;\ndp[0][1] = -prices[0];\ndp[0][2] = 0;\ndp[0][3] = -prices[0];\ndp[0][4] = 0;")]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("确定遍历顺序")])]),t._v(" "),a("p",[t._v("从递归公式其实已经可以看出，一定是从前向后遍历，因为dp[i]，依靠dp[i - 1]的数值。")]),t._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[t._v("举例推导dp数组")])]),t._v(" "),a("p",[t._v("以输入[1,2,3,4,5]为例")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201228181724295.png",alt:"123.买卖股票的最佳时机III"}})]),t._v(" "),a("p",[t._v("可以看到红色框为最后两次卖出的状态。")]),t._v(" "),a("p",[t._v("现在最大的时候一定是卖出的状态，而两次卖出的状态现金最大一定是最后一次卖出。")]),t._v(" "),a("p",[t._v("所以最终最大利润是dp[4][4]")]),t._v(" "),a("h2",{attrs:{id:"周三"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#周三"}},[t._v("#")]),t._v(" 周三")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://programmercarl.com/0188.%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BAIV.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("动态规划：买卖股票的最佳时机IV"),a("OutboundLink")],1),t._v("最多可以完成 k 笔交易。")]),t._v(" "),a("p",[t._v("相对于上一道"),a("a",{attrs:{href:"https://programmercarl.com/0123.%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BAIII.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("动态规划：123.买卖股票的最佳时机III"),a("OutboundLink")],1),t._v("，本题需要通过前两次的交易，来类比前k次的交易")]),t._v(" "),a("ol",[a("li",[t._v("确定dp数组以及下标的含义")])]),t._v(" "),a("p",[t._v("使用二维数组 dp[i][j] ：第i天的状态为j，所剩下的最大现金是dp[i][j]")]),t._v(" "),a("p",[t._v("j的状态表示为：")]),t._v(" "),a("ul",[a("li",[t._v("0 表示不操作")]),t._v(" "),a("li",[t._v("1 第一次买入")]),t._v(" "),a("li",[t._v("2 第一次卖出")]),t._v(" "),a("li",[t._v("3 第二次买入")]),t._v(" "),a("li",[t._v("4 第二次卖出")]),t._v(" "),a("li",[t._v(".....")])]),t._v(" "),a("p",[a("strong",[t._v("除了0以外，偶数就是卖出，奇数就是买入")]),t._v("。")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("确定递推公式")])]),t._v(" "),a("p",[t._v("还要强调一下：dp[i][1]，"),a("strong",[t._v("表示的是第i天，买入股票的状态，并不是说一定要第i天买入股票，这是很多同学容易陷入的误区")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-CPP line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" k "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    dp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" prices"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    dp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" prices"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[a("strong",[t._v("本题和"),a("a",{attrs:{href:"https://programmercarl.com/0123.%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BAIII.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("动态规划：123.买卖股票的最佳时机III"),a("OutboundLink")],1),t._v("最大的区别就是这里要类比j为奇数是买，偶数是卖剩的状态")]),t._v("。")]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("dp数组如何初始化")])]),t._v(" "),a("p",[a("strong",[t._v("dp[0][j]当j为奇数的时候都初始化为 -prices[0]")])]),t._v(" "),a("p",[t._v("代码如下：")]),t._v(" "),a("div",{staticClass:"language-CPP line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    dp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("prices"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("strong",[t._v("在初始化的地方同样要类比j为偶数是买、奇数是卖的状态")]),t._v("。")]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("确定遍历顺序")])]),t._v(" "),a("p",[t._v("从递归公式其实已经可以看出，一定是从前向后遍历，因为dp[i]，依靠dp[i - 1]的数值。")]),t._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[t._v("举例推导dp数组")])]),t._v(" "),a("p",[t._v("以输入[1,2,3,4,5]，k=2为例。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201229100358221.png",alt:"188.买卖股票的最佳时机IV"}})]),t._v(" "),a("p",[t._v("最后一次卖出，一定是利润最大的，dp[prices.size() - 1][2 * k]即红色部分就是最后求解。")]),t._v(" "),a("h2",{attrs:{id:"周四"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#周四"}},[t._v("#")]),t._v(" 周四")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://programmercarl.com/0309.%E6%9C%80%E4%BD%B3%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E6%97%B6%E6%9C%BA%E5%90%AB%E5%86%B7%E5%86%BB%E6%9C%9F.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("动态规划：最佳买卖股票时机含冷冻期"),a("OutboundLink")],1),t._v("尽可能地完成更多的交易（多次买卖一支股票），但有冷冻期，冷冻期为1天")]),t._v(" "),a("p",[t._v("相对于"),a("a",{attrs:{href:"https://programmercarl.com/0122.%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BAII%EF%BC%88%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%EF%BC%89.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("动态规划：122.买卖股票的最佳时机II"),a("OutboundLink")],1),t._v("，本题加上了一个冷冻期")]),t._v(" "),a("p",[a("strong",[t._v("本题则需要第三个状态：不持有股票（冷冻期）的最多现金")]),t._v("。")]),t._v(" "),a("p",[t._v("动规五部曲，分析如下：")]),t._v(" "),a("ol",[a("li",[t._v("确定dp数组以及下标的含义")])]),t._v(" "),a("p",[a("strong",[t._v("dp[i][j]，第i天状态为j，所剩的最多现金为dp[i][j]")]),t._v("。")]),t._v(" "),a("p",[t._v("j的状态为：")]),t._v(" "),a("ul",[a("li",[t._v("1：持有股票后的最多现金")]),t._v(" "),a("li",[t._v("2：不持有股票（能购买）的最多现金")]),t._v(" "),a("li",[t._v("3：不持有股票（冷冻期）的最多现金")])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("确定递推公式")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] - prices[i]);\ndp[i][1] = max(dp[i - 1][1], dp[i - 1][2]);\ndp[i][2] = dp[i - 1][0] + prices[i];\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("dp数组如何初始化")])]),t._v(" "),a("p",[t._v("可以统一都初始为0了。")]),t._v(" "),a("p",[t._v("代码如下：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("vector<vector<int>> dp(n, vector<int>(3, 0));\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("strong",[t._v("初始化其实很有讲究，很多同学可能是稀里糊涂的全都初始化0，反正就可以通过，但没有想清楚，为什么都初始化为0")]),t._v("。")]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("确定遍历顺序")])]),t._v(" "),a("p",[t._v("从递归公式上可以看出，dp[i] 依赖于 dp[i-1]，所以是从前向后遍历。")]),t._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[t._v("举例推导dp数组")])]),t._v(" "),a("p",[t._v("以 [1,2,3,0,2] 为例，dp数组如下：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201229163725348.png",alt:"309.最佳买卖股票时机含冷冻期"}})]),t._v(" "),a("p",[t._v("最后两个状态 不持有股票（能购买） 和 不持有股票（冷冻期）都有可能最后结果，取最大的。")]),t._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("下周还会有一篇股票系列的文章，"),a("strong",[t._v("股票系列后面我也会单独写一篇总结，来高度概括一下，这样大家会对股票问题就有一个整体性的理解了")]),t._v("。")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://code-thinking.cdn.bcebos.com/pics/01二维码.jpg",width:"450"}})])])}),[],!1,null,null,null);s.default=n.exports}}]);