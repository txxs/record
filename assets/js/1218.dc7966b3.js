(window.webpackJsonp=window.webpackJsonp||[]).push([[1218],{1610:function(t,a,s){"use strict";s.r(a);var _=s(13),r=Object(_.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_1-数据库设计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-数据库设计"}},[t._v("#")]),t._v(" 1 数据库设计")]),t._v(" "),s("h2",{attrs:{id:"_1-1-表关系梳理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-表关系梳理"}},[t._v("#")]),t._v(" 1.1 表关系梳理")]),t._v(" "),s("ul",[s("li",[t._v("仔细思考业务关系，得到如下表关系图\n"),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200115020506177.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9qYXZhZWRnZS5ibG9nLmNzZG4ubmV0,size_1,color_FFFFFF,t_70",alt:""}})])]),t._v(" "),s("h2",{attrs:{id:"_1-2-用户表结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-用户表结构"}},[t._v("#")]),t._v(" 1.2 用户表结构")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200121014332479.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9qYXZhZWRnZS5ibG9nLmNzZG4ubmV0,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"_1-3-分类表结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-分类表结构"}},[t._v("#")]),t._v(" 1.3 分类表结构")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200121020536729.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9qYXZhZWRnZS5ibG9nLmNzZG4ubmV0,size_1,color_FFFFFF,t_70",alt:""}}),t._v("\nid=0为根节点，分类其实是树状结构")]),t._v(" "),s("h2",{attrs:{id:"_1-4-商品表结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-商品表结构"}},[t._v("#")]),t._v(" 1.4 商品表结构")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200121020705305.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9qYXZhZWRnZS5ibG9nLmNzZG4ubmV0,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("注意价格字段的类型为 decimal")])]),t._v(" "),s("h2",{attrs:{id:"_1-5-支付信息表结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-支付信息表结构"}},[t._v("#")]),t._v(" 1.5 支付信息表结构")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200121021541829.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9qYXZhZWRnZS5ibG9nLmNzZG4ubmV0,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"_1-6-订单表结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-订单表结构"}},[t._v("#")]),t._v(" 1.6 订单表结构")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200121021648129.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9qYXZhZWRnZS5ibG9nLmNzZG4ubmV0,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("乍一看，有必要搞这么多种的时间嘛？有以下诸多原因\n"),s("ul",[s("li",[t._v("前端显示需要，那就必须存着呀！")]),t._v(" "),s("li",[t._v("方便定位排查问题，比如某用户投诉某订单一直不发货，肯定就需要时间去定位")]),t._v(" "),s("li",[t._v("方便数据分析，比如需要计算从用户支付到最终发出商品的平均时间")]),t._v(" "),s("li",[t._v("根据订单状态确认相应订单时间")])])])]),t._v(" "),s("h2",{attrs:{id:"_1-7-订单明细表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-订单明细表"}},[t._v("#")]),t._v(" 1.7 订单明细表")]),t._v(" "),s("p",[t._v("由于价格等变动因素，需要记录用户购买时的商品相关属性详情，我们在做表关联时，遇到这种可变因素，要考虑是否做存档。\n"),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200124020125215.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9qYXZhZWRnZS5ibG9nLmNzZG4ubmV0,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"_1-8-收货地址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-收货地址"}},[t._v("#")]),t._v(" 1.8 收货地址")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200124020350170.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9qYXZhZWRnZS5ibG9nLmNzZG4ubmV0,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),s("h1",{attrs:{id:"_2-索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-索引"}},[t._v("#")]),t._v(" 2  索引")]),t._v(" "),s("h2",{attrs:{id:"_2-1-唯一索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-唯一索引"}},[t._v("#")]),t._v(" 2.1 唯一索引")]),t._v(" "),s("p",[t._v("唯一索引unique,保证数据唯一性\n比如：")]),t._v(" "),s("ul",[s("li",[t._v("用户表中的用户名字段，写相同的用户名就会报错。\n"),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200124020508773.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9qYXZhZWRnZS5ibG9nLmNzZG4ubmV0,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),s("li",[t._v("订单表中的订单号\n"),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200124020613334.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9qYXZhZWRnZS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70",alt:""}})])]),t._v(" "),s("h2",{attrs:{id:"_2-2-单索引及组合索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-单索引及组合索引"}},[t._v("#")]),t._v(" 2.2 单索引及组合索引")]),t._v(" "),s("p",[t._v("对单/多个字段做索引叫单/组合索引\n"),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/2020012402153647.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9qYXZhZWRnZS5ibG9nLmNzZG4ubmV0,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),s("h1",{attrs:{id:"_3-时间戳"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-时间戳"}},[t._v("#")]),t._v(" 3 时间戳")]),t._v(" "),s("p",[t._v("用于定位排查业务问题")]),t._v(" "),s("ul",[s("li",[t._v("create_ time: 创建时间")]),t._v(" "),s("li",[t._v("update_ _time: 更新时间")])]),t._v(" "),s("p",[t._v("因此，每个表里基本都有该两个字段哦！")])])}),[],!1,null,null,null);a.default=r.exports}}]);