(window.webpackJsonp=window.webpackJsonp||[]).push([[693],{1083:function(t,a,s){"use strict";s.r(a);var _=s(13),r=Object(_.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_0-前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_0-前言"}},[t._v("#")]),t._v(" 0 前言")]),t._v(" "),s("p",[t._v("全是干货的技术殿堂")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("文章收录在我的 GitHub 仓库，欢迎Star/fork：")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/Wasabi1234/Java-Interview-Tutorial",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java-Interview-Tutorial"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("https://github.com/Wasabi1234/Java-Interview-Tutorial")])]),t._v(" "),s("p",[t._v("jacoco是一个开源的覆盖率工具,通过插桩方式来记录代码执行轨迹.")]),t._v(" "),s("p",[t._v("ant是构建工具,内置任务和可选任务组成的.Ant运行时需要一个XML文件(构建文件)。")]),t._v(" "),s("h1",{attrs:{id:"_1-覆盖率软件对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-覆盖率软件对比"}},[t._v("#")]),t._v(" 1 覆盖率软件对比")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200317101336438.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),s("h1",{attrs:{id:"_2-流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-流程"}},[t._v("#")]),t._v(" 2 流程")]),t._v(" "),s("ol",[s("li",[t._v("配置jacocoagent参数,启动服务")]),t._v(" "),s("li",[t._v("生成 jacoco.exec")]),t._v(" "),s("li",[t._v("ant 构建生成覆盖率报告")])]),t._v(" "),s("h1",{attrs:{id:"_3-启动jcocoagent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-启动jcocoagent"}},[t._v("#")]),t._v(" 3 启动jcocoagent")]),t._v(" "),s("p",[t._v("javaagent:javaagent是JDK 1.5以后引入的,也可以叫做Java代理.\n后面跟的参数是jcocoagent的jar包地址.")]),t._v(" "),s("ul",[s("li",[t._v("includes:包含在执行分析中的类名列表，*表示全部")]),t._v(" "),s("li",[t._v("output:表示使用tcpserver代理侦听由address和port属性指定的TCP端口，并将执行的数据写入此TCP连接，从而实现不停止项目运行实时生成代码覆盖率报告")]),t._v(" "),s("li",[t._v("port:开启的端口号\naddress: 开启的ip地址,本地写127.0.0.1\njar:运行服务的jar包地址\njava -javaagent:/fs/jacocoagent.jar=includes=*,output=tcpserver,port=8888,address=127.0.0.1")])]),t._v(" "),s("h1",{attrs:{id:"_4-生成报告"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-生成报告"}},[t._v("#")]),t._v(" 4 生成报告")]),t._v(" "),s("ul",[s("li",[t._v("ant dump\n"),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/2020031710433178.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}}),t._v('\n生成"jacoco.exec"\n'),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200317105255613.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),s("li",[t._v("ant report\n"),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200317105008349.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})])]),t._v(" "),s("h1",{attrs:{id:"_5-打开-index-html-报告-展示类的覆盖率文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-打开-index-html-报告-展示类的覆盖率文件"}},[t._v("#")]),t._v(' 5 打开"index.html"报告,展示类的覆盖率文件')]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200317102437112.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),s("p",[t._v("什么方法级别覆盖率你都还不满足,想看到底哪行代码覆盖到了?\n那你得知道这有多坑了,最基本的配置是做不到的,我们还需要配置自己的 class 文件路径和源码路径!")]),t._v(" "),s("ul",[s("li",[t._v("注意要具体到 class 目录和 java 目录!,即 com 目录的上一级目录,就能完美展示源码的覆盖率情况了\n"),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200317143737980.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200317144112905.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("绿色的为行覆盖充分")]),t._v(" "),s("li",[t._v("红色的为未覆盖的行")]),t._v(" "),s("li",[t._v("红色菱形的为分支全部未覆盖")]),t._v(" "),s("li",[t._v("黄色菱形的为分支部分覆盖")]),t._v(" "),s("li",[t._v("绿色菱形为分支完全覆盖")])]),t._v(" "),s("h1",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("p",[t._v("基操到此结束!入门完毕,开始愉快的高级玩耍与自行适配优化吧~")])])}),[],!1,null,null,null);a.default=r.exports}}]);