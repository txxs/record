(window.webpackJsonp=window.webpackJsonp||[]).push([[1402],{1792:function(t,r,a){"use strict";a.r(r);var s=a(13),e=Object(s.a)({},(function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_1-面试题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-面试题"}},[t._v("#")]),t._v(" 1 面试题")]),t._v(" "),a("p",[t._v("生产环境中的redis是怎么部署的？")]),t._v(" "),a("h1",{attrs:{id:"_2-考点分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-考点分析"}},[t._v("#")]),t._v(" 2 考点分析")]),t._v(" "),a("p",[t._v("看看你了解不了解你们公司的redis生产集群的部署架构，如果你不了解，那么确实你就很失职了，你的redis是主从架构？集群架构？用了哪种集群方案？有没有做高可用保证？有没有开启持久化机制确保可以进行数据恢复？线上redis给几个G的内存？设置了哪些参数？压测后你们redis集群承载多少QPS？")]),t._v(" "),a("p",[t._v("兄弟，这些你必须是门儿清的，否则你确实是没好好思考过")]),t._v(" "),a("h1",{attrs:{id:"_3-面试详解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-面试详解"}},[t._v("#")]),t._v(" 3 面试详解")]),t._v(" "),a("h2",{attrs:{id:"_3-1-redis-cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-redis-cluster"}},[t._v("#")]),t._v(" 3.1 redis cluster")]),t._v(" "),a("p",[t._v("10台机器，5台机器部署了redis主节点，另外5台机器部署了redis的从节点\n每个主节点挂了一个从节点，5个节点对外提供读写服务，每个节点的读写高峰QPS可能可以达到每秒5万，5台机器最多是25万个QPS.")]),t._v(" "),a("h2",{attrs:{id:"_3-2-机器配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-机器配置"}},[t._v("#")]),t._v(" 3.2 机器配置")]),t._v(" "),a("p",[t._v("32G内存+8核CPU+1T磁盘，但是分配给redis进程的是10g内存，一般线上生产环境，redis的内存尽量不要超过10g，超过10g可能会有问题。")]),t._v(" "),a("p",[t._v("5台机器对外提供读写，一共有50g内存。")]),t._v(" "),a("p",[t._v("因为每个主实例都挂了一个从实例，所以是高可用的，任何一个主实例宕机，都会自动故障迁移，redis从实例会自动变成主实例继续提供读写服务")]),t._v(" "),a("h2",{attrs:{id:"_3-3-你往内存里写的是什么数据-每条数据的大小是多少"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-你往内存里写的是什么数据-每条数据的大小是多少"}},[t._v("#")]),t._v(" 3.3 你往内存里写的是什么数据？每条数据的大小是多少？")]),t._v(" "),a("p",[t._v("商品数据，每条数据是10kb。100条数据是1mb，10万条数据是1g。常驻内存的是200万条商品数据，占用内存是20g，仅仅不到总内存的50%。")]),t._v(" "),a("p",[t._v("目前高峰期每秒就是3500左右的请求量")]),t._v(" "),a("h1",{attrs:{id:"x-交流学习"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#x-交流学习"}},[t._v("#")]),t._v(" X 交流学习")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190504005601174.jpg",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"java交流群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#java交流群"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://jq.qq.com/?_wv=1027&k=5UB4P1T",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java交流群"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"博客"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#博客"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://blog.csdn.net/qq_33589510",target:"_blank",rel:"noopener noreferrer"}},[t._v("博客"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"github"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/Wasabi1234",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github"),a("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=e.exports}}]);