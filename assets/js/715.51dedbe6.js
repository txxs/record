(window.webpackJsonp=window.webpackJsonp||[]).push([[715],{1109:function(s,a,t){"use strict";t.r(a);var e=t(13),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_1-系统环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-系统环境"}},[s._v("#")]),s._v(" 1 系统环境"),t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017060211961.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})]),s._v(" "),t("p",[s._v("Xcode\nOracle JDK: 13")]),s._v(" "),t("p",[s._v("先确保系统已安装freetype和ccache")]),s._v(" "),t("ul",[t("li",[s._v("freetype: 2.9")]),s._v(" "),t("li",[s._v("ccache: 3.3.5")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ brew "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" freetype ccache\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h1",{attrs:{id:"_2-下载源码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-下载源码"}},[s._v("#")]),s._v(" 2 下载源码")]),s._v(" "),t("p",[s._v("通过Mercurial代码管理版本管理工具从Repository中直接获取源码(Repository为http://hg.openjdk.java.net)\n"),t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017041658679.png?x-oss-process=maimage/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_16,color_FFFFFF,t_70",alt:""}})]),s._v(" "),t("h1",{attrs:{id:"_3-自动检测依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-自动检测依赖"}},[s._v("#")]),s._v(" 3 自动检测依赖")]),s._v(" "),t("p",[s._v("进入解压后的文件夹，然后运行"),t("code",[s._v("bash ./configure")]),s._v("。这是一项检测所需要的依赖是否安装好了的脚本。只需要根据其提供的错误提示，将相应错误修改完成即可。")]),s._v(" "),t("h1",{attrs:{id:"_4-配置参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置参数"}},[s._v("#")]),s._v(" 4 配置参数")]),s._v(" "),t("h2",{attrs:{id:"参数说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数说明"}},[s._v("#")]),s._v(" 参数说明")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("debug"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("level"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("slowdebug 启用slowdebug级别调试\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("enable"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dtrace 启用dtrace\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("jvm"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("variants"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("server 编译server类型JVM\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("target"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("bits"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" 指定JVM为"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("位\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("enable"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ccache 启用ccache，加快编译\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("num"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cores"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" 编译使用CPU核心数\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("memory"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("size"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8000")]),s._v(" 编译使用内存\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("disable"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("warnings"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("as"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("errors 忽略警告\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" configure\n--with-debug-level"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("slowdebug --enable-dtrace\n--with-jvm-variants"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("server\n--with-target-bits"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("\n--enable-ccache\n--with-num-cores"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n--with-memory-size"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8000")]),s._v("\n--disable-warnings-as-errors\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017044502543.png",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("直接报错"),t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017050652111.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("configure"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" error"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("No")]),s._v(" xcodebuild tool and no system framework headers found"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" use "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sysroot or "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sdk"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("provide")]),s._v(" a path "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("a")]),s._v(" valid SDK\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("运行了一下"),t("code",[s._v("xcodebuild")]),s._v("，错误信息如下：")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("xcode"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("select"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" error"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" tool "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xcodebuild'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("requires")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Xcode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nbut active developer directory\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/Library/Developer/CommandLineTools'")]),s._v(" is a command line tools instance\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017050753547.png",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("解决方案")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("sudo xcode"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("select "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("switch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Applications")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Xcode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("app"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Contents")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Developer")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017050529899.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("继续执行bash configure得到如下\n"),t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017051925449.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_16,color_FFFFFF,t_70",alt:""}})])]),s._v(" "),t("h1",{attrs:{id:"_5-开始编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-开始编译"}},[s._v("#")]),s._v(" 5 开始编译")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("make image\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017053849361.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}}),s._v(" "),t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017053825868.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}}),s._v("\n完成了!")]),s._v(" "),t("h1",{attrs:{id:"_6-验证"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-验证"}},[s._v("#")]),s._v(" 6 验证")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017060746547.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})]),s._v(" "),t("h1",{attrs:{id:"_7-clion-导入项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-clion-导入项目"}},[s._v("#")]),s._v(" 7 Clion 导入项目")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017054958489.png",alt:""}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017055022157.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("选择ok"),t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017054806273.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_1,color_FFFFFF,t_70",alt:""}})])]),s._v(" "),t("h1",{attrs:{id:"_8-编辑配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-编辑配置"}},[s._v("#")]),s._v(" 8 编辑配置")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/2019101705584366.png",alt:""}}),s._v("\n如下图编辑DEBUG配置信息")]),s._v(" "),t("ul",[t("li",[s._v("Executable 选择之前build出的镜像里的java可执行文件"),t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017055927932.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_16,color_FFFFFF,t_70",alt:""}})]),s._v(" "),t("li",[s._v("Program arguments 填写-version，输出Java版本")]),s._v(" "),t("li",[s._v("Before launch 注意：这里一定要移除Build，否则会报错无法调试")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191017055722718.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmF2YUVkZ2U=,size_16,color_FFFFFF,t_70",alt:""}})])])}),[],!1,null,null,null);a.default=r.exports}}]);